# Telegram Voice to Text Bot

Этот проект представляет собой Telegram бота, который преобразует голосовые сообщения в текст с использованием библиотеки `speech_recognition` и API Google для распознавания речи. Бот написан на Python и использует библиотеку `pyTelegramBotAPI` для взаимодействия с Telegram.

## Установка

1. Клонируйте репозиторий на свой локальный компьютер:

   ```bash
   git clone https://github.com/ваш_пользователь/telegram-voice-to-text-bot.git
   cd telegram-voice-to-text-bot
   ```

2. Убедитесь, что у вас установлен Python 3.6 или выше.

3. Установите необходимые зависимости с помощью pip:

    ```bash
    pip install -r requirements.txt
    ```

4. Установите ffmpeg, который необходим для работы с аудиофайлами. 

    ### Установка FFmpeg на Windows

    *  Скачайте последнюю версию FFmpeg для Windows с официального сайта: [FFmpeg Download](https://ffmpeg.org/download.html).

    * Распакуйте загруженный архив в удобное для вас место, например, `C:\ffmpeg`.

    * Добавьте путь к исполняемым файлам FFmpeg в переменную окружения PATH:

        - Откройте "Панель управления" -> "Система и безопасность" -> "Система" -> "Дополнительные параметры системы".
        - Нажмите кнопку "Переменные среды".
        - В разделе "Системные переменные" найдите переменную `Path` и выберите её, затем нажмите "Изменить".
        - Нажмите "Создать" и введите путь к папке `bin`, например, `C:\ffmpeg\bin`.
        - Нажмите "ОК", чтобы закрыть все окна.

    * Проверьте установку, открыв командную строку и выполнив команду:

        ```bash
        ffmpeg -version
        ```

        Если всё установлено правильно, вы увидите информацию о версии FFmpeg.

    ### Установка FFmpeg на Ubuntu

    * Обновите список пакетов:
        ```bash
        sudo apt update
        ```
    * Установите FFmpeg с помощью команды:
        ```bash
        sudo apt install ffmpeg
        ```
    * Проверьте установку, выполнив команду:
        ```bash
        ffmpeg -version
        ```

5. Создайте файл .env в корневой директории проекта и добавьте ваш токен Telegram бота:
    ```bash
    TOKEN=ваш_токен_бота
    ```
## Использование
Запустите бота с помощью следующей команды:

```bash
python bot.py
```  
    
Бот начнет прослушивать сообщения в Telegram и будет готов принимать голосовые сообщения.

## Функциональность
* __Команда /start__:

    Отправляет приветственное сообщение пользователю.
* __Обработка голосовых сообщений__:

    Бот принимает голосовые сообщения, загружает их, конвертирует из формата .oga в .wav, распознает речь с помощью Google Speech Recognition и отправляет текстовое сообщение с результатом обратно пользователю.
* __Обработка файлов__:

    Временные файлы сохраняются в папке voice и автоматически удаляются после обработки, чтобы предотвратить накопление ненужных данных на сервере.

## Зависимости
* `pyTelegramBotAPI`: Библиотека для работы с Telegram Bot API.
* `speech_recognition`: Библиотека для распознавания речи.
* `pydub`: Библиотека для обработки аудио.
* `python-dotenv`: Библиотека для загрузки переменных окружения из файла .env.